<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Radar MQTT</title>
</head>
<body>
<h1>Radar MQTT</h1>
<div id="messages"></div>

<script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
<script>
    const client = mqtt.connect('wss://test.mosquitto.org:8081');

    client.on('connect', () => {
        console.log('ConnectÃ© via WebSocket');
        client.subscribe('radar/topic');
    });

    client.on('message', (topic, message) => {
        const div = document.getElementById('messages');
        div.innerHTML += `<p>${topic}: ${message.toString()}</p>`;
    });
</script>
</body>
</html>
